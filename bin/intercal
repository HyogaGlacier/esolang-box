#!/bin/bash

# All INTARCAL code should have prefix .i
infile=$(realpath "$@")
ln -sf "$infile" /tmp/code.i

# ick reports wierd error when stdin is closed. We avoid it by giving empty string as input.
echo -n | ~/interpreters/intercal/intercal-0.30/ick -b /tmp/code.i
cat - | /tmp/code

rm /tmp/code.i /tmp/code
